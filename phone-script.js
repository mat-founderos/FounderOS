$(document).ready((function(){function e(e){return/^[a-z]{2}$/.test(e)}let t=null;const n=$("input[ms-code-phone-number]");n.length&&(!function(){if(t)return t;const n="userCountryInfo",o=JSON.parse(localStorage.getItem(n)||"null"),r=Date.now();o&&r-o.timestamp<864e5&&e(o.code)?t=Promise.resolve(o.code):t=new Promise(((t,o)=>{geoip2.country((o=>{const l=o.country.iso_code.toLowerCase();e(l)?(localStorage.setItem(n,JSON.stringify({code:l,timestamp:r})),t(l)):t(null)}),(e=>{console.error("Error fetching country from MaxMind:",e),t(null)}))}))}(),n.each((function(){var e=this,n=$(e).attr("ms-code-phone-number").split(","),o=window.intlTelInput(e,{preferredCountries:n,utilsScript:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js"});function r(){var t=o.getNumber(intlTelInputUtils.numberFormat.NATIONAL);e.value=t;var n="+"+o.getSelectedCountryData().dialCode+e.value.replace(/^0/,"");$(".full-phone-input").length&&$(".full-phone-input").val(n);var r=$("input[name='phone'].hs-input");r.length&&(r.val(n),r.trigger("input"),r.trigger("change"))}t.then((function(e){e&&o.setCountry(e)})),e.addEventListener("change",r),e.addEventListener("keyup",r),$(e).closest("form").submit((function(){var t=o.getSelectedCountryData().dialCode,n=o.getNumber(intlTelInputUtils.numberFormat.INTERNATIONAL);e.value=n,console.log(t,n)}))})))}));